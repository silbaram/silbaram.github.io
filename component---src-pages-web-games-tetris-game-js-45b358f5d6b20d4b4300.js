"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[242],{5592:function(t,e,i){i.d(e,{Z:function(){return h}});var r=i(7294),s=i(1883);const a=t=>{let{siteTitle:e}=t;return r.createElement("header",{style:{background:"#20232a",marginBottom:"1.45rem"}},r.createElement("div",{style:{margin:"0 auto",maxWidth:960,padding:"1.45rem 1.0875rem"}},r.createElement("h1",{style:{margin:0}},r.createElement(s.Link,{to:"/",style:{color:"white",textDecoration:"none"}},e))),r.createElement("meta",{name:"google-site-verification",content:"wg-ONgbuHGSWXfx53JZPkFrmyKqPONIUdnzCVvw1hCY"}))};a.defaultProps={siteTitle:""};var n=a;var h=t=>{var e;let{children:i}=t;const a=(0,s.useStaticQuery)("3649515864");return r.createElement(r.Fragment,null,r.createElement(n,{siteTitle:(null===(e=a.site.siteMetadata)||void 0===e?void 0:e.title)||"Title"}),r.createElement("div",{style:{margin:"0 auto",maxWidth:"var(--size-content)",padding:"var(--size-gutter)"}},r.createElement("main",null,i),r.createElement("footer",{style:{marginTop:"var(--space-5)",fontSize:"var(--font-sm)"}},"© ",(new Date).getFullYear()," · Built with"," ","silbaram")))}},9357:function(t,e,i){var r=i(7294),s=i(1883);e.Z=function(t){var e,i;let{description:a,title:n,children:h}=t;const{site:o}=(0,s.useStaticQuery)("63159454"),c=a||o.siteMetadata.description,l=null===(e=o.siteMetadata)||void 0===e?void 0:e.title;return r.createElement(r.Fragment,null,r.createElement("title",null,l?`${n} | ${l}`:n),r.createElement("meta",{name:"description",content:c}),r.createElement("meta",{property:"og:title",content:n}),r.createElement("meta",{property:"og:description",content:c}),r.createElement("meta",{property:"og:type",content:"website"}),r.createElement("meta",{name:"twitter:card",content:"summary"}),r.createElement("meta",{name:"twitter:creator",content:(null===(i=o.siteMetadata)||void 0===i?void 0:i.author)||""}),r.createElement("meta",{name:"twitter:title",content:n}),r.createElement("meta",{name:"twitter:description",content:c}),h)}},9119:function(t,e,i){i.r(e),i.d(e,{Head:function(){return d},default:function(){return u}});var r=i(7294),s=i(1883),a=i(5592),n=i(9357),h=i(4578),o=i(2260),c=i.n(o);var l=()=>{const t=(0,r.useRef)(null),e=(0,r.useRef)(null);return(0,r.useEffect)((()=>{let i=function(t){function e(){var e;return(e=t.call(this,{key:"TetrisScene"})||this).gameState="start",e.score=0,e.level=1,e.linesCleared=0,e.dropInterval=1e3,e.lastDropTime=0,e.board=[],e.currentPiece=null,e.nextPiece=null,e.gridSize=32,e.boardWidth=10,e.boardHeight=20,e}(0,h.Z)(e,t);var i=e.prototype;return i.preload=function(){},i.create=function(){this.input.keyboard.on("keydown",this.handleInput,this),this.input.on("pointerdown",this.handlePointerDown,this),this.createText(),this.showStartText(),this.drawSeparatorLine()},i.update=function(t){"playing"===this.gameState&&t>this.lastDropTime+this.dropInterval&&(this.movePieceDown(),this.lastDropTime=t)},i.showStartText=function(){this.startText=this.add.text(this.sys.game.config.width/2,this.sys.game.config.height/2,"게임 시작",{fontSize:"40px",fill:"#ffffff"}),this.startText.setOrigin(.5)},i.handlePointerDown=function(){"start"===this.gameState?this.startGame():"gameover"===this.gameState&&this.restartGame()},i.handleInput=function(t){"start"===this.gameState?this.startGame():"playing"===this.gameState?"ArrowLeft"===t.code?this.movePiece(-1):"ArrowRight"===t.code?this.movePiece(1):"ArrowDown"===t.code?this.movePieceDown():"ArrowUp"===t.code?this.rotatePiece():"Space"===t.code&&this.hardDrop():"gameover"===this.gameState&&this.restartGame()},i.startGame=function(){this.gameState="playing",this.startText&&this.startText.destroy(),this.board=Array.from({length:this.boardHeight},(()=>Array(this.boardWidth).fill(0))),this.score=0,this.level=1,this.linesCleared=0,this.dropInterval=1e3,this.lastDropTime=0,this.updateScore(0),this.updateLevel(),this.tetrominoes={I:[[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]]],O:[[[1,1],[1,1]]],T:[[[0,1,0],[1,1,1],[0,0,0]]],S:[[[0,1,1],[1,1,0],[0,0,0]]],Z:[[[1,1,0],[0,1,1],[0,0,0]]],J:[[[1,0,0],[1,1,1],[0,0,0]]],L:[[[0,0,1],[1,1,1],[0,0,0]]]},this.nextPiece=this.createRandomPiece(),this.spawnPiece(),this.drawBoard(),this.drawNextPiece()},i.endGame=function(){this.gameState="gameover",this.gameOverText=this.add.text(this.sys.game.config.width/2,this.sys.game.config.height/2,"게임 오버",{fontSize:"40px",fill:"#ff0000"}),this.gameOverText.setOrigin(.5)},i.restartGame=function(){this.gameOverText&&this.gameOverText.destroy(),this.startGame()},i.createRandomPiece=function(){const t=Object.keys(this.tetrominoes),e=t[Math.floor(Math.random()*t.length)],i=this.tetrominoes[e][0];return{shape:i,x:Math.floor((this.boardWidth-i[0].length)/2),y:0,rotationIndex:0,tetrominoKey:e}},i.spawnPiece=function(){this.currentPiece=this.nextPiece,this.currentPiece.x=Math.floor((this.boardWidth-this.currentPiece.shape[0].length)/2),this.currentPiece.y=0,this.nextPiece=this.createRandomPiece(),this.checkCollision()?this.endGame():(this.drawBoard(),this.drawNextPiece())},i.movePiece=function(t){this.currentPiece.x+=t,this.checkCollision()?this.currentPiece.x-=t:this.drawBoard()},i.movePieceDown=function(){this.currentPiece.y+=1,this.checkCollision()?(this.currentPiece.y-=1,this.lockPiece(),this.clearLines(),this.spawnPiece()):this.drawBoard()},i.hardDrop=function(){for(;!this.checkCollision();)this.currentPiece.y+=1;this.currentPiece.y-=1,this.lockPiece(),this.clearLines(),this.spawnPiece()},i.rotatePiece=function(){const t=this.currentPiece.rotationIndex;this.currentPiece.rotationIndex=(this.currentPiece.rotationIndex+1)%4,this.currentPiece.shape=this.getRotatedShape(this.currentPiece.tetrominoKey,this.currentPiece.rotationIndex),this.checkCollision()?(this.currentPiece.rotationIndex=t,this.currentPiece.shape=this.getRotatedShape(this.currentPiece.tetrominoKey,this.currentPiece.rotationIndex)):this.drawBoard()},i.getRotatedShape=function(t,e){const i=this.tetrominoes[t];if(i[e])return i[e];{let t=i[0];for(let i=0;i<e;i++)t=this.rotateMatrix(t);return i[e]=t,t}},i.rotateMatrix=function(t){return t[0].map(((e,i)=>t.map((t=>t[i])).reverse()))},i.checkCollision=function(){const{shape:t,x:e,y:i}=this.currentPiece;for(let r=0;r<t.length;r++)for(let s=0;s<t[r].length;s++)if(t[r][s]){const t=e+s,a=i+r;if(t<0||t>=this.boardWidth||a>=this.boardHeight||a>=0&&this.board[a][t])return!0}return!1},i.lockPiece=function(){const{shape:t,x:e,y:i}=this.currentPiece;for(let r=0;r<t.length;r++)for(let s=0;s<t[r].length;s++)if(t[r][s]){const a=e+s,n=i+r;this.board[n]&&(this.board[n][a]=t[r][s])}},i.clearLines=function(){let t=0;for(let e=this.boardHeight-1;e>=0;e--)this.board[e].every((t=>0!==t))&&(this.board.splice(e,1),this.board.unshift(Array(this.boardWidth).fill(0)),t++,e++);t>0&&(this.linesCleared+=t,this.updateScore(t),this.updateLevel())},i.updateScore=function(t){this.score+=[0,100,300,500,800][t],this.scoreText.setText(`점수: ${this.score}`)},i.updateLevel=function(){const t=Math.floor(this.linesCleared/10)+1;t>this.level&&t<=10&&(this.level=t,this.levelText.setText(`레벨: ${this.level}`),this.dropInterval=1e3-100*(this.level-1))},i.drawBoard=function(){this.graphics?this.graphics.clear():this.graphics=this.add.graphics(),this.graphics.fillStyle(0),this.graphics.fillRect(0,0,this.boardWidth*this.gridSize,this.boardHeight*this.gridSize);for(let r=0;r<this.boardHeight;r++)for(let t=0;t<this.boardWidth;t++)this.board[r][t]&&(this.graphics.fillStyle(16777215),this.graphics.fillRect(t*this.gridSize,r*this.gridSize,this.gridSize-1,this.gridSize-1));const{shape:t,x:e,y:i}=this.currentPiece;for(let r=0;r<t.length;r++)for(let s=0;s<t[r].length;s++)t[r][s]&&(this.graphics.fillStyle(16711680),this.graphics.fillRect((e+s)*this.gridSize,(i+r)*this.gridSize,this.gridSize-1,this.gridSize-1))},i.drawNextPiece=function(){this.nextPieceGraphics?this.nextPieceGraphics.clear():this.nextPieceGraphics=this.add.graphics(),this.nextPieceGraphics.clear();const t=this.boardWidth*this.gridSize+10,{shape:e}=this.nextPiece;for(let i=0;i<e.length;i++)for(let r=0;r<e[i].length;r++)e[i][r]&&(this.nextPieceGraphics.fillStyle(65280),this.nextPieceGraphics.fillRect(t+r*(this.gridSize/2),150+i*(this.gridSize/2),this.gridSize/2-1,this.gridSize/2-1));this.nextText?this.nextText.setPosition(t,120):this.nextText=this.add.text(t,120,"다음 블록:",{fontSize:"20px",fill:"#fff"})},i.createText=function(){const t=this.boardWidth*this.gridSize+10;this.scoreText=this.add.text(t,10,"점수: 0",{fontSize:"20px",fill:"#fff"}),this.levelText=this.add.text(t,40,"레벨: 1",{fontSize:"20px",fill:"#fff"})},i.drawSeparatorLine=function(){this.separatorGraphics||(this.separatorGraphics=this.add.graphics()),this.separatorGraphics.lineStyle(2,16777215,1),this.separatorGraphics.beginPath(),this.separatorGraphics.moveTo(this.boardWidth*this.gridSize,0),this.separatorGraphics.lineTo(this.boardWidth*this.gridSize,this.boardHeight*this.gridSize),this.separatorGraphics.closePath(),this.separatorGraphics.strokePath()},e}(c().Scene);const r={type:c().AUTO,width:448,height:640,parent:t.current,scene:i},s=new(c().Game)(r);return e.current=s,()=>{e.current&&(e.current.destroy(!0),e.current=null)}}),[]),r.createElement("div",{ref:t})};const d=()=>r.createElement(n.Z,{title:"This is a minesweeper game that you can easily play when you're bored."});var u=()=>r.createElement(a.Z,null,r.createElement("div",null,r.createElement("h1",null,"테트리스 게임"),r.createElement(l,null)),r.createElement("br",null),r.createElement(s.Link,{to:"/"},"Go back to the homepage"))}}]);
//# sourceMappingURL=component---src-pages-web-games-tetris-game-js-45b358f5d6b20d4b4300.js.map